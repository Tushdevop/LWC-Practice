<template>
    <div class="slds-grid slds-wrap">
        <div class="slds-col slds-size_1-of-3">
            <lightning-card title="ApexWireMethodToProperty" icon-name="custom:custom51">
                <div class="slds-var-m-around_medium">
                    <template if:true={contacts.data}>
                        <template for:each={contacts.data} for:item="contact">
                            <p key={contact.Id}>{contact.Name}</p>
                            <p key={contact.Id}>{contact.Email}</p>
                        </template>
                    </template>
                    <template if:false={contacts.data}>
                        <c-error-panel errors={contacts.error}></c-error-panel>
                    </template>
                </div>
            </lightning-card>
        </div>
        <!--Call an Apex method that retrieves a list of records using @wire. 
            In this recipe, the Apex method is @wired to a component function.-->
        <div class="slds-col slds-size_1-of-3">
            <lightning-card title="ApexWireToPropertyFunction" icon-name="custom:custom11">
                <div class="slds-var-m-around_medium">
                    <template if:true={conList}>
                        <template for:each={conList} for:item="contact">
                            <p key={contact.Id}>{contact.Name}</p>
                            <p key={contact.Id}>{contact.Email}</p>
                        </template>
                    </template>
                    <template if:false={conList}>
                        <c-error-panel errors={errors}></c-error-panel>
                    </template>
                </div>
            </lightning-card>
        </div>
        <!--Call Apex method and get SObject values using a static schema definition.-->
        <div class="slds-col slds-size_1-of-3">
            <lightning-card title="Apex Static Schema" icon-name="custom:custom21">
                    <template lwc:if={contact.data}>
                        <div class="slds-m-around_medium">
                            <p>{name}</p>
                            <p><lightning-formatted-email value={email}></lightning-formatted-email></p>
                        </div>
                    </template>
                    <template lwc:elseif={contact.error}>
                        <c-error-panel errors={contact.error}></c-error-panel>
                    </template>
            </lightning-card>
        </div>
    </div>

    <div class="slds-grid slds-wrap">
        <!--Retrieve a list of records using an imperative Apex method call-->
        <div class="slds-col slds-size_1-of-3">
            <lightning-card title="Apex Imperative Method" icon-name="custom:custom14">
                <div class="slds-m-top_medium">
                    <lightning-button label="Load Contacts"  onclick={handleLoad} ></lightning-button>
                </div>
                <template if:true={Bcontacts}>
                    <template for:each={Bcontacts} for:item="con">
                        <p key={con.Id}>{con.Name}</p>
                    </template>
                </template>
                <template if:true={Berror}>
                    <c-error-panel errors={Berror}></c-error-panel>
                </template>
            </lightning-card>
        </div>
        <!--Call an Apex method with parameters using @wire-->
        <div class="slds-col slds-size_1-of-3">
            <lightning-card title="ApexWireMethodWithParams" icon-name="custom:custom25">
                <div class="slds-m-around_medium">
                    <lightning-input type="Search" label="Search" value="searchKey" onchange={handleChange}></lightning-input>
                </div>
                <template if:true={Accounts.data}>
                    <template for:each={Accounts.data} for:item="Acc">
                        <p key={Acc.id}>{Acc.Name}</p>
                    </template>
                </template>
                <template if:false={Accounts.data}>
                    <c-error-panel errors={Berror}></c-error-panel>
                </template>
            </lightning-card>
        </div>
        <!--Call an Apex method with parameters imperatively.-->
        <div class="slds-col slds-size_1-of-3">
            <lightning-card title="ApexWireMethodWithParams" icon-name="custom:custom12">
                <div class="slds-m-around_medium">
                    <lightning-layout vertical-align="end" class="slds-var-m-bottom_small">
                        <lightning-layout-item flexibility="grow">
                            <lightning-input type="Search" label="Search" value="searchKey" onchange={handleSearchInput}></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item class="slds-var-p-left_xx-small">
                            <lightning-button label="Search" onclick={handleSearch}></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                    <template if:true={oppOpps}>
                        <template for:each={oppOpps} for:item="Opp">
                            <p key={Opp.id}>{Opp.Name}</p>
                        </template>
                    </template>
                    <template if:true={oppError}>
                        <c-error-panel errors={oppError}></c-error-panel>
                    </template>
                </div>
            </lightning-card>
        </div>
    </div>

</template>